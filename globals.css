/* =====================================================
   RESET GLOBAL
===================================================== */

*{ box-sizing: border-box; }

html, body { height: 100%; }

body{
  margin: 0;
  background: #000;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: #eef3ef;
  overflow: hidden;
}

/* =====================================================
   VARIÁVEIS
===================================================== */

:root{
  --stage-w: 1079.2;
  --stage-h: 729.6;

  --card-w: clamp(44px, 6.2vw, 72px);
  --card-h: calc(var(--card-w) * 1.39);

  --avatar-size: clamp(52px, 7.2vw, 76px);
  --mood-size: clamp(20px, 3vw, 30px);

  --radius-lg: 18px;
  --shadow-1: 0 22px 44px rgba(0,0,0,0.55);
}

/* =====================================================
   STAGE (fullscreen)
===================================================== */

.table{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;

  display: grid;
  place-items: center;

  background:
    radial-gradient(circle at 35% 25%, rgba(255,255,255,0.07), transparent 45%),
    radial-gradient(circle at 75% 80%, rgba(0,0,0,0.45), transparent 60%),
    linear-gradient(180deg, #0b0b0b 0%, #070707 100%);

  overflow: hidden;
}

/* =====================================================
   BOARD (mantém proporção)
===================================================== */

.board{
  width: min(96vw, calc(96vh * (var(--stage-w) / var(--stage-h))));
  height: min(96vh, calc(96vw * (var(--stage-h) / var(--stage-w))));

  position: relative;
  border-radius: 22px;
  overflow: hidden;

  padding: clamp(10px, 1.6vw, 18px);
}

/* =====================================================
   MESA VERDE
===================================================== */

.playTable{
  width: 92%;
  height: 92%;

  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);

  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.14);

  background:
    radial-gradient(circle at 25% 20%, rgba(255,255,255,0.10), transparent 40%),
    radial-gradient(circle at 78% 80%, rgba(0,0,0,0.34), transparent 55%),
    repeating-linear-gradient(135deg, rgba(255,255,255,0.05) 0 2px, rgba(255,255,255,0) 2px 10px),
    linear-gradient(180deg, #0b4f2b 0%, #08381f 100%);

  box-shadow: var(--shadow-1);
}

.playTable::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background: radial-gradient(circle at 50% 55%, transparent 40%, rgba(0,0,0,0.34) 100%);
}

/* =====================================================
   CARTAS (base)
===================================================== */

.cardBack, .cardFace{
  width: var(--card-w);
  height: var(--card-h);
  border-radius: 10px;
  box-shadow: 0 12px 24px rgba(0,0,0,0.35);
}

.cardBack{
  background:
    linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.06)),
    linear-gradient(180deg, #ff6b7a 0%, #d84b62 100%);
  border: 2px solid rgba(255,255,255,0.55);
  position: relative;
}

.cardBack::after{
  content:"";
  position:absolute;
  inset: 10%;
  border-radius: 8px;
  border: 2px dashed rgba(255,255,255,0.35);
}

.cardFace{
  position: relative;
  background: linear-gradient(180deg, #ffffff 0%, #f2f3f6 100%);
  border: 1px solid rgba(0,0,0,0.12);
}

.corner{
  position:absolute;
  top: 10%;
  left: 10%;
  display:flex;
  flex-direction: column;
  line-height: 1;
  font-weight: 1000;
}

.cornerBR{
  top: auto;
  left: auto;
  right: 10%;
  bottom: 10%;
  transform: rotate(180deg);
}

.rank{ font-size: clamp(14px, 2.2vw, 18px); }
.suit{ font-size: clamp(12px, 1.7vw, 14px); margin-top: 2px; }

.centerSuit{
  position:absolute;
  inset: 0;
  display:grid;
  place-items:center;
  font-size: clamp(22px, 4vw, 34px);
  font-weight: 1000;
  opacity: 0.85;
}

/* =====================================================
   CARTA NO CENTRO (jogada)
===================================================== */

.centerCards{
  position:absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 6;
}

/* =====================================================
   PLACAR
===================================================== */

.scoreboard{
  position: absolute;
  top: 0;
  left: 0;
  z-index: 16;
  width: clamp(180px, 23vw, 250px);
  padding: 34px 14px 12px;
  background: rgba(61,61,61,0.88);
  border-right: 1px solid rgba(255,255,255,0.08);
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

.scoreIcon{
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 34px;
  height: 24px;
  border-radius: 6px;
  background: rgba(255,255,255,0.12);
  display: grid;
  place-items: center;
  font-size: 17px;
}

.scoreRows{
  display: grid;
  gap: 8px;
}

.scoreRow{
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  column-gap: 10px;
}

.scoreName{
  font-size: clamp(20px, 2.1vw, 38px);
  line-height: 1;
  font-weight: 500;
  color: #f2f2f2;
}

.scoreValue{
  font-size: clamp(20px, 2.2vw, 34px);
  color: #f2f2f2;
  line-height: 1;
}

.scoreDots{
  display: flex;
  align-items: center;
  gap: 5px;
}

.scoreDots > span{
  width: clamp(14px, 1.4vw, 22px);
  height: clamp(14px, 1.4vw, 22px);
  border-radius: 999px;
  background: #8b8b8b;
  border: 1px solid rgba(255,255,255,0.18);
}

.scoreHandValue{
  position: absolute;
  right: 16px;
  bottom: 10px;
  font-size: clamp(24px, 2.8vw, 42px);
  line-height: 1;
  color: #40e53f;
}

/* =====================================================
   AÇÕES TOPO DIREITO
===================================================== */

.quickActions{
  position: absolute;
  top: 2%;
  right: 3%;
  z-index: 16;
  display: flex;
  align-items: center;
  gap: clamp(8px, 1vw, 12px);
}

.quickActionBtn{
  width: clamp(34px, 4.3vw, 52px);
  height: clamp(34px, 4.3vw, 52px);
  border: none;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  color: #fff;
  font-size: clamp(18px, 2.4vw, 28px);
  line-height: 1;
  cursor: pointer;
  display: grid;
  place-items: center;
}

/* =====================================================
   AVATARES
===================================================== */

.avatarWrap{
  position:absolute;
  display:flex;
  align-items:center;
  gap: clamp(6px, 1vw, 8px);
  z-index: 10;
}

.avatar{
  width: var(--avatar-size);
  height: var(--avatar-size);
  border-radius: 999px;
  background: linear-gradient(180deg, #7b2cff 0%, #4b1aa8 100%);
  border: 4px solid rgba(255,255,255,0.80);
  display:grid;
  place-items:center;
  box-shadow: 0 14px 26px rgba(0,0,0,0.35);
}

.avatarLetter{
  font-weight: 1000;
  font-size: clamp(16px, 2.4vw, 22px);
}

.mood{
  width: var(--mood-size);
  height: var(--mood-size);
  border-radius: 999px;
  background: rgba(0,0,0,0.30);
  border: 1px solid rgba(255,255,255,0.18);
  display:grid;
  place-items:center;
  font-size: clamp(12px, 2vw, 16px);
}

/* posições */
.avatar_top{
  top: 6%;
  left: 50%;
  transform: translateX(-50%);
}

.avatar_left{
  top: 34%;
  left: 4%;
}

.avatar_right{
  top: 34%;
  right: 4%;
  flex-direction: row-reverse;
}

.avatar_bottom{
  left: 50%;
  bottom: 14%;
  transform: translateX(-50%);
}

/* =====================================================
   MÃO DO JOGADOR (embaixo) - leque
===================================================== */

.hand{
  position:absolute;
  left: 50%;
  bottom: 4%;
  transform: translateX(-50%);
  display:flex;
  align-items: center;
  justify-content: center;
  gap: 0;
  z-index: 11;
}

.hand > div{
  margin-left: calc(var(--card-w) * -0.32);
  transition: transform 160ms ease;
}

.hand > div:first-child{
  margin-left: 0;
}

.hand > div:nth-child(1){ transform: rotate(-7deg) translateX(8px); }
.hand > div:nth-child(2){ transform: rotate(0deg) translateY(-10px); }
.hand > div:nth-child(3){ transform: rotate(7deg) translateX(-8px); }

.hand > div:hover{
  transform: translateY(-14px) scale(1.02);
  z-index: 20;
}

/* =====================================================
   STACK DOS BOTS (AGORA É LADO A LADO)
===================================================== */

.stack{
  position: absolute;
  display: flex;
  flex-direction: row;         /* <- NÃO EMPILHA MAIS */
  align-items: center;
  justify-content: center;
  gap: 0;
  z-index: 4;
}

.stack > div{
  margin-left: calc(var(--card-w) * -0.32); /* leque */
}

.stack > div:first-child{
  margin-left: 0;
}

/* efeito leque (por padrão) */
.stackCard1{ transform: rotate(-7deg) translateX(6px); }
.stackCard2{ transform: rotate(0deg); }
.stackCard3{ transform: rotate(7deg) translateX(-6px); }

/* posições dos stacks */
.stack_top{
  top: 18%;
  left: 50%;
  transform: translateX(-50%);
}

.stack_left{
  left: 10%;
  top: 50%;
  transform: translateY(-50%) rotate(90deg);
  transform-origin: center;
}

.stack_right{
  right: 10%;
  top: 50%;
  transform: translateY(-50%) rotate(-90deg);
  transform-origin: center;
}

/* =====================================================
   BOTÃO TRUCO
===================================================== */

.trucoBtn{
  position:absolute;
  right: 4%;
  bottom: 6%;
  width: clamp(120px, 18vw, 170px);
  height: clamp(84px, 12vw, 118px);
  border-radius: var(--radius-lg);

  background: linear-gradient(180deg, #ffc062 0%, #ea7d1b 100%);
  border: 1px solid rgba(255,255,255,0.26);
  box-shadow: 0 22px 34px rgba(0,0,0,0.50);

  display:flex;
  flex-direction: column;
  align-items:center;
  justify-content:center;
  gap: 6px;

  cursor:pointer;
  user-select:none;
}

.trucoBtn:active{ transform: translateY(2px); }

.trucoHand{ font-size: clamp(22px, 3.4vw, 30px); }

.trucoText{
  font-weight: 1000;
  letter-spacing: 1px;
  font-size: clamp(18px, 2.8vw, 22px);
  color: #fff;
  text-shadow: 0 10px 16px rgba(0,0,0,0.40);
}

/* =====================================================
   EMOTES (PAINEL)
===================================================== */

.emotesPanel{
  position: absolute;
  left: 0;
  bottom: 0;
  z-index: 16;
  display: flex;
  align-items: stretch;
  background: rgba(0,0,0,0.86);
  border-top: 1px solid rgba(255,255,255,0.08);
  border-right: 1px solid rgba(255,255,255,0.08);
  border-radius: 0 12px 0 0;
  overflow: hidden;
}

.emotesGrid{
  padding: 10px;
  display: grid;
  grid-template-columns: repeat(2, clamp(66px, 7.8vw, 96px));
  gap: 8px;
}

.emoteTile{
  width: 100%;
  aspect-ratio: 1;
  border-radius: 15px;
  border: 2px solid rgba(255,255,255,0.22);
  background:
    linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.03)),
    #2e2e2e;
  color: #fff;
  font-size: clamp(28px, 3.4vw, 44px);
  cursor: pointer;
  transition: transform 120ms ease, filter 120ms ease;
}

.emoteTile:hover{
  transform: translateY(-2px);
  filter: brightness(1.08);
}

.emotesToggle{
  width: clamp(28px, 3.2vw, 36px);
  border: none;
  border-left: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.72);
  color: #f0f0f0;
  font-size: clamp(28px, 3vw, 36px);
  line-height: 1;
  cursor: pointer;
}

/* =====================================================
   CORES DAS CARTAS
===================================================== */

.red { color: #d62323; }
.black { color: #111; }

/* =====================================================
   MOBILE
===================================================== */

@media (max-width: 420px){
  .board{ width: 100vw; height: 100vh; border-radius: 0; }
  .playTable{ width: 92%; height: 62%; top: 50%; }

  .scoreboard{
    width: 152px;
    padding: 26px 10px 8px;
  }
  .scoreName{ font-size: 18px; }
  .scoreValue{ font-size: 20px; }
  .scoreDots > span{ width: 12px; height: 12px; }
  .scoreHandValue{
    right: 10px;
    bottom: 7px;
    font-size: 24px;
  }

  .quickActions{
    top: 1.2%;
    right: 2%;
    gap: 6px;
  }
  .quickActionBtn{
    width: 30px;
    height: 30px;
    font-size: 16px;
  }

  .emotesPanel{
    transform: scale(0.8);
    transform-origin: left bottom;
  }

  .avatar_left, .avatar_right{ top: 30%; }
  .trucoBtn{ right: 3%; bottom: 4%; }

  /* no mobile, melhor NÃO girar os stacks laterais */
  .stack_left{ transform: translateY(-50%); }
  .stack_right{ transform: translateY(-50%); }
}
